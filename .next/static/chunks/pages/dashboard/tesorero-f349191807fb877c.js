(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{6436:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/tesorero",function(){return a(424)}])},7884:function(e,n,a){"use strict";a.d(n,{Z:function(){return o}});var r=a(5893),t=a(1667),s=a(5853);function o(e){var n=e.content;return(0,r.jsxs)(t.Z,{content:n,children:[(0,r.jsx)(s.Z,{href:"/dashboard/info",name:"Informaci\xf3n personal",svg:"/img/dashboard/info.svg"}),(0,r.jsx)(s.Z,{href:"/dashboard/progress",name:"Mi progreso",svg:"/img/dashboard/progress.svg"}),(0,r.jsx)(s.Z,{href:"/dashboard/payments",name:"Mis pagos",svg:"/img/dashboard/payments.svg"}),(0,r.jsx)(s.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,r.jsx)(s.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}},9294:function(e,n,a){"use strict";a.d(n,{Z:function(){return h}});var r=a(5893),t=a(9898),s=a(1667),o=a(5853);function i(e){var n=e.content;return(0,r.jsxs)(s.Z,{content:n,branch:"Jefe de Rama",children:[(0,r.jsx)(o.Z,{href:"/dashboard/jefe-rama",name:"Mi rama",svg:"/img/dashboard/info.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,r.jsx)(o.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}var c=a(7884);function d(e){var n=e.content;return(0,r.jsxs)(s.Z,{content:n,branch:"Jefe de Grupo",children:[(0,r.jsx)(o.Z,{href:"/dashboard/jefe-grupo/inscripciones",name:"Inscripciones",svg:"/img/dashboard/info.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/jefe-grupo/personal",name:"Gesti\xf3n personal",svg:"/img/dashboard/person.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/jefe-grupo/cartera",name:"Cartera Centinelas 113",svg:"/img/dashboard/wallet.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,r.jsx)(o.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}var l=a(2461);function u(e){var n=e.content;return(0,r.jsxs)(s.Z,{content:n,branch:"Tesorero",children:[(0,r.jsx)(o.Z,{href:"/dashboard/tesorero",name:"Cartera Scouts",svg:"/img/dashboard/info.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,r.jsx)(o.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}function h(e){var n=e.content,a=(0,t.xJ)(),s=a.user,o=a.isLoading;a.error;if(!o){l.uU[l.uU[s.roles.id-1]];switch(l.uU[l.uU[s.roles.id-1]]){case l.uU.SCOUT:return(0,r.jsx)(c.Z,{content:n});case l.uU.GRUPO:return(0,r.jsx)(d,{content:n});case l.uU.RAMA:return(0,r.jsx)(i,{content:n});case l.uU.TESORERO:return(0,r.jsx)(u,{content:n})}}return(0,r.jsx)(c.Z,{content:n})}},5853:function(e,n,a){"use strict";a.d(n,{Z:function(){return u}});var r=a(5893),t=a(1664),s=a.n(t),o=a(1163),i=a(7294),c=a(7940),d=a.n(c),l=a(1667);function u(e){var n=e.href,a=e.name,t=e.svg,c=(0,o.useRouter)(),u=(0,i.useContext)(l.l),h=c.pathname.startsWith(n)||c.asPath.startsWith(n);return(0,r.jsx)(s(),{href:n,children:(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-start ".concat(d().sidelink," ").concat(h?d().active:""),children:[t?(0,r.jsx)("img",{className:d().sideicon,src:t}):null,u?null:(0,r.jsx)("a",{children:a})]})})}},1667:function(e,n,a){"use strict";a.d(n,{l:function(){return u},Z:function(){return h}});var r=a(5893),t=a(1163),s=a(7294);var o=a(7940),i=a.n(o),c=a(9898);function d(e){var n,a=e.branchName,o=((0,t.useRouter)(),(0,c.xJ)()),d=o.user,l=o.isLoading,h=(o.error,(0,c.Sf)()),f=h.image,g=h.isLoading;if(a)n=(0,r.jsx)("p",{className:i().branch,children:a});else{var m=(0,c.ph)(),b=m.branch,v=m.isLoading;n=(0,r.jsx)("p",{className:i().branch,children:v?"Cargando...":b.nameBranch})}(0,s.useContext)(u);return(0,r.jsxs)("div",{className:i().header,children:[(0,r.jsx)("img",{className:i().image,src:g?"/img/profile-picture.png":URL.createObjectURL(f)}),(0,r.jsx)("p",{className:i().name,children:l?"Cargando...":(d.name+" "+d.lastName).toLowerCase()}),n]})}function l(e){var n=e.children;return(0,r.jsx)("div",{children:n})}var u=(0,s.createContext)({});function h(e){var n=e.content,a=e.branch,o=e.children,c=((0,t.useRouter)(),(0,s.useRef)(null)),h=(0,s.useRef)(null),f=function(){var e=function(){return{width:n?window.innerWidth:null,height:n?window.innerHeight:null}},n=!0,a=(0,s.useState)(e()),r=a[0],t=a[1];return(0,s.useEffect)((function(){var a=function(){t(e())};if(n)return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[n]),r}(),g=(f.height,f.width),m=(0,s.useState)(!1),b=m[0],v=m[1];return(0,s.useEffect)((function(){v(g<=720)}),[g]),(0,s.useEffect)((function(){c.current.style.width="100%"}),[]),(0,r.jsx)(u.Provider,{value:b,children:(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsxs)("div",{className:"".concat(i().sidebar," "),ref:c,children:[(0,r.jsx)(d,{branchName:a}),(0,r.jsx)(l,{children:o})]}),(0,r.jsx)("div",{className:"".concat(i().content," flex-fill"),ref:h,children:n})]})})}},2461:function(e,n,a){"use strict";a.d(n,{EZ:function(){return s},Sv:function(){return t},uU:function(){return r}});var r,t=function(e,n){switch(n){case r.SCOUT:e.push("/dashboard/info","/dashboard",{shallow:!0});break;case r.RAMA:e.push("/dashboard/jefe-rama","/dashboard",{shallow:!0});break;case r.GRUPO:e.push("/dashboard/jefe-grupo/inscripciones","/dashboard",{shallow:!0});break;case r.TESORERO:e.push("/dashboard/tesorero","/dashboard",{shallow:!0});break;default:e.push("/dashboard/info","/dashboard",{shallow:!0})}};function s(){fetch("http://localhost:4000/api/payments/generateCSV/1",{method:"GET",headers:new Headers({"Referrer-Policy":"origin-when-cross-origin",Authorization:"Bearer "+localStorage.getItem("auth_token"),"Access-Control-Allow-Origin":"".concat("http://localhost:3000")})}).then((function(e){return e.blob()})).then((function(e){var n=window.URL.createObjectURL(e);Object.assign(document.createElement("a"),{target:"_blank",href:n,download:"Historial de pagos-".concat((new Date).toISOString().split("T")[0],".csv")}).click(),setTimeout((function(){window.URL.revokeObjectURL(n)}),100)}))}!function(e){e[e.SCOUT=0]="SCOUT",e[e.TESORERO=1]="TESORERO",e[e.RAMA=2]="RAMA",e[e.GRUPO=3]="GRUPO",e[e.ADMIN=4]="ADMIN"}(r||(r={}))},4181:function(e,n,a){"use strict";var r=a(7294),t=a(1163),s=a.n(t),o=a(9898);n.Z=function(e,n,a){return function(t){var i=(0,o.xJ)(),c=i.user,d=i.isLoading,l=i.error;return(0,r.useEffect)((function(){var e=window.location?window.location:null;d&&l?s().replace("/login?r=".concat(e.pathname+encodeURIComponent(e.search)),"/login",{shallow:!0}):d||c.status?n&&!d&&(a&&n!=c.roles.id-1||n>c.roles.id-1)&&s().push("/dashboard"):s().push("/logout")}),[d,l]),(0,r.createElement)(e,t,null)}}},424:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return m}});var r=a(5893),t=a(1587),s=a(7294),o=a(2134),i=a.n(o),c=a(1163),d=a(1664),l=a.n(d),u=a(2461),h=a(9898);function f(){var e=(0,h.xJ)(),n=e.user,a=e.isLoading,o=(e.error,(0,c.useRouter)(),{columns:[{label:"N\xb0 Documento",field:"document",sort:"asc",width:200},{label:"Nombre",field:"fullName",sort:"asc",width:200},{label:"Acciones",field:"actions",sort:"asc",width:200}],rows:[]}),d=(0,s.useState)(o),f=d[0],g=d[1],m=(0,s.useState)(!0),b=m[0],v=m[1],p=function(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")};return(0,s.useEffect)((function(){a||fetch("".concat("http://localhost:4000","/api/users"),{mode:"cors",method:"GET",headers:{"Referrer-Policy":"origin-when-cross-origin","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token"),"Access-Control-Allow-Origin":"".concat("http://localhost:3000")}}).then((function(e){return e.json().then((function(n){return e.ok?Promise.resolve(n):Promise.reject(n)}))})).then((function(e){var a=e.data;a=(a=a.map((function(e){return{id:e.id,document:e.document,fullName:p(e.name+" "+e.lastName),actions:(0,r.jsx)(l(),{href:"/dashboard/tesorero/payments/".concat(e.id),children:(0,r.jsxs)("a",{children:[(0,r.jsx)("img",{className:i().icon,src:"/img/dashboard/eye.svg"})," Ver pagos"]})})}}))).filter((function(e){return e.id!=n.id})),o.rows=a,g(o),v(!1)})).catch((function(e){}))}),[n]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"".concat(i().text_title," p-5"),children:"\xa1Pagos Scout Centinelas 113!"})}),(0,r.jsxs)("div",{className:i().contenedor,children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("p",{className:"btn ".concat(i().csvbutton),onClick:u.EZ,children:[(0,r.jsxs)("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-file-earmark-arrow-down",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M4 0h5.5v1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h1V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z"}),(0,r.jsx)("path",{d:"M9.5 3V0L14 4.5h-3A1.5 1.5 0 0 1 9.5 3z"}),(0,r.jsx)("path",{"fill-rule":"evenodd",d:"M8 6a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 10.293V6.5A.5.5 0 0 1 8 6z"})]}),"Historial de pagos"]})})}),b?(0,r.jsx)("div",{className:"row col-12 mt-5 justify-content-center",children:"Cargando Informaci\xf3n..."}):(0,r.jsx)("div",{className:"".concat(i().text_data," row justify-content-center py-3"),children:(0,r.jsx)("div",{className:"".concat(i().container," py-5 w-100"),id:"example",children:(0,r.jsx)(t.g0K,{data:f,striped:!0,bordered:!0,hover:!0,small:!0,responsiveSm:!0,responsiveMd:!0,responsiveLg:!0,responsiveXl:!0,fixed:!0,noBottomColumns:!0,entriesLabel:"Mostrar entradas",infoLabel:["Mostrando","hasta","de","registros"],paginationLabel:["Anterior","Siguiente"],searchLabel:"Buscar",noRecordsFoundLabel:"No se han encontrado registros"})})})]})]})}var g=a(9294),m=(0,a(4181).Z)((function(){var e=(0,r.jsx)(f,{});return(0,r.jsx)(g.Z,{content:e})}),u.uU.TESORERO,!0)},7940:function(e){e.exports={sidebar:"Slidebar_sidebar__pw5I_",sidelink:"Slidebar_sidelink__I0n_O",active:"Slidebar_active__BkFah",closebtn:"Slidebar_closebtn__Q2ruM",openbtn:"Slidebar_openbtn__WaRF4",content:"Slidebar_content__s2yv4",sideicon:"Slidebar_sideicon__ypeH_",header:"Slidebar_header__JuoDb",image:"Slidebar_image__V0t9C",name:"Slidebar_name__qFgGz",branch:"Slidebar_branch__qdB8B"}},2134:function(e){e.exports={text_title:"Cartera_text_title__qjif2",contenedor:"Cartera_contenedor__IB16T",csvbutton:"Cartera_csvbutton__t1yhk",icon:"Cartera_icon__u5efl",addbutton:"Cartera_addbutton__EXvvF"}}},function(e){e.O(0,[1427,698,9774,2888,179],(function(){return n=6436,e(e.s=n);var n}));var n=e.O();_N_E=n}]);