(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3068],{1019:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/jefe-grupo/personal/agregar",function(){return n(2575)}])},7884:function(e,s,n){"use strict";n.d(s,{Z:function(){return o}});var r=n(5893),a=n(1667),t=n(5853);function o(e){var s=e.content;return(0,r.jsxs)(a.Z,{content:s,children:[(0,r.jsx)(t.Z,{href:"/dashboard/info",name:"Informaci\xf3n personal",svg:"/img/dashboard/info.svg"}),(0,r.jsx)(t.Z,{href:"/dashboard/progress",name:"Mi progreso",svg:"/img/dashboard/progress.svg"}),(0,r.jsx)(t.Z,{href:"/dashboard/payments",name:"Mis pagos",svg:"/img/dashboard/payments.svg"}),(0,r.jsx)(t.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,r.jsx)(t.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}},9294:function(e,s,n){"use strict";n.d(s,{Z:function(){return h}});var r=n(5893),a=n(9898),t=n(1667),o=n(5853);function l(e){var s=e.content;return(0,r.jsxs)(t.Z,{content:s,branch:"Jefe de Rama",children:[(0,r.jsx)(o.Z,{href:"/dashboard/jefe-rama",name:"Mi rama",svg:"/img/dashboard/info.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,r.jsx)(o.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}var c=n(7884);function i(e){var s=e.content;return(0,r.jsxs)(t.Z,{content:s,branch:"Jefe de Grupo",children:[(0,r.jsx)(o.Z,{href:"/dashboard/jefe-grupo/inscripciones",name:"Inscripciones",svg:"/img/dashboard/info.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/jefe-grupo/personal",name:"Gesti\xf3n personal",svg:"/img/dashboard/person.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/jefe-grupo/cartera",name:"Cartera Centinelas 113",svg:"/img/dashboard/wallet.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,r.jsx)(o.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}var d=n(2461);function u(e){var s=e.content;return(0,r.jsxs)(t.Z,{content:s,branch:"Tesorero",children:[(0,r.jsx)(o.Z,{href:"/dashboard/tesorero",name:"Cartera Scouts",svg:"/img/dashboard/info.svg"}),(0,r.jsx)(o.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,r.jsx)(o.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}function h(e){var s=e.content,n=(0,a.xJ)(),t=n.user,o=n.isLoading;n.error;if(!o){d.uU[d.uU[t.roles.id-1]];switch(d.uU[d.uU[t.roles.id-1]]){case d.uU.SCOUT:return(0,r.jsx)(c.Z,{content:s});case d.uU.GRUPO:return(0,r.jsx)(i,{content:s});case d.uU.RAMA:return(0,r.jsx)(l,{content:s});case d.uU.TESORERO:return(0,r.jsx)(u,{content:s})}}return(0,r.jsx)(c.Z,{content:s})}},5853:function(e,s,n){"use strict";n.d(s,{Z:function(){return u}});var r=n(5893),a=n(1664),t=n.n(a),o=n(1163),l=n(7294),c=n(7940),i=n.n(c),d=n(1667);function u(e){var s=e.href,n=e.name,a=e.svg,c=(0,o.useRouter)(),u=(0,l.useContext)(d.l),h=c.pathname.startsWith(s)||c.asPath.startsWith(s);return(0,r.jsx)(t(),{href:s,children:(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-start ".concat(i().sidelink," ").concat(h?i().active:""),children:[a?(0,r.jsx)("img",{className:i().sideicon,src:a}):null,u?null:(0,r.jsx)("a",{children:n})]})})}},1667:function(e,s,n){"use strict";n.d(s,{l:function(){return u},Z:function(){return h}});var r=n(5893),a=n(1163),t=n(7294);var o=n(7940),l=n.n(o),c=n(9898);function i(e){var s,n=e.branchName,o=((0,a.useRouter)(),(0,c.xJ)()),i=o.user,d=o.isLoading,h=(o.error,(0,c.Sf)()),m=h.image,x=h.isLoading;if(n)s=(0,r.jsx)("p",{className:l().branch,children:n});else{var f=(0,c.ph)(),v=f.branch,j=f.isLoading;s=(0,r.jsx)("p",{className:l().branch,children:j?"Cargando...":v.nameBranch})}(0,t.useContext)(u);return(0,r.jsxs)("div",{className:l().header,children:[(0,r.jsx)("img",{className:l().image,src:x?"/img/profile-picture.png":URL.createObjectURL(m)}),(0,r.jsx)("p",{className:l().name,children:d?"Cargando...":(i.name+" "+i.lastName).toLowerCase()}),s]})}function d(e){var s=e.children;return(0,r.jsx)("div",{children:s})}var u=(0,t.createContext)({});function h(e){var s=e.content,n=e.branch,o=e.children,c=((0,a.useRouter)(),(0,t.useRef)(null)),h=(0,t.useRef)(null),m=function(){var e=function(){return{width:s?window.innerWidth:null,height:s?window.innerHeight:null}},s=!0,n=(0,t.useState)(e()),r=n[0],a=n[1];return(0,t.useEffect)((function(){var n=function(){a(e())};if(s)return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[s]),r}(),x=(m.height,m.width),f=(0,t.useState)(!1),v=f[0],j=f[1];return(0,t.useEffect)((function(){j(x<=720)}),[x]),(0,t.useEffect)((function(){c.current.style.width="100%"}),[]),(0,r.jsx)(u.Provider,{value:v,children:(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsxs)("div",{className:"".concat(l().sidebar," "),ref:c,children:[(0,r.jsx)(i,{branchName:n}),(0,r.jsx)(d,{children:o})]}),(0,r.jsx)("div",{className:"".concat(l().content," flex-fill"),ref:h,children:s})]})})}},2461:function(e,s,n){"use strict";n.d(s,{EZ:function(){return t},Sv:function(){return a},uU:function(){return r}});var r,a=function(e,s){switch(s){case r.SCOUT:e.push("/dashboard/info","/dashboard",{shallow:!0});break;case r.RAMA:e.push("/dashboard/jefe-rama","/dashboard",{shallow:!0});break;case r.GRUPO:e.push("/dashboard/jefe-grupo/inscripciones","/dashboard",{shallow:!0});break;case r.TESORERO:e.push("/dashboard/tesorero","/dashboard",{shallow:!0});break;default:e.push("/dashboard/info","/dashboard",{shallow:!0})}};function t(){fetch("http://localhost:4000/api/payments/generateCSV/1",{method:"GET",headers:new Headers({"Referrer-Policy":"origin-when-cross-origin",Authorization:"Bearer "+localStorage.getItem("auth_token"),"Access-Control-Allow-Origin":"".concat("http://localhost:3000")})}).then((function(e){return e.blob()})).then((function(e){var s=window.URL.createObjectURL(e);Object.assign(document.createElement("a"),{target:"_blank",href:s,download:"Historial de pagos-".concat((new Date).toISOString().split("T")[0],".csv")}).click(),setTimeout((function(){window.URL.revokeObjectURL(s)}),100)}))}!function(e){e[e.SCOUT=0]="SCOUT",e[e.TESORERO=1]="TESORERO",e[e.RAMA=2]="RAMA",e[e.GRUPO=3]="GRUPO",e[e.ADMIN=4]="ADMIN"}(r||(r={}))},4181:function(e,s,n){"use strict";var r=n(7294),a=n(1163),t=n.n(a),o=n(9898);s.Z=function(e,s,n){return function(a){var l=(0,o.xJ)(),c=l.user,i=l.isLoading,d=l.error;return(0,r.useEffect)((function(){var e=window.location?window.location:null;i&&d?t().replace("/login?r=".concat(e.pathname+encodeURIComponent(e.search)),"/login",{shallow:!0}):i||c.status?s&&!i&&(n&&s!=c.roles.id-1||s>c.roles.id-1)&&t().push("/dashboard"):t().push("/logout")}),[i,d]),(0,r.createElement)(e,a,null)}}},2575:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return x}});var r=n(5893),a=n(1799),t=n(9396),o=n(7294),l=n(7630),c=n.n(l),i=n(4835),d=n.n(i);function u(){var e=(0,o.useState)(null),s=e[0],l=e[1],i=(0,o.useRef)(null),u=(0,o.useRef)(null),h=n(6455),m=c()(h),x=(0,o.useRef)(null),f=(0,o.useRef)(null),v=(0,o.useRef)(null),j=(0,o.useRef)(null),p=(0,o.useRef)(null),g=(0,o.useRef)(null),b=(0,o.useRef)(null),N=(0,o.useRef)(null),_=(0,o.useRef)(null),O=(0,o.useRef)(null),R=(0,o.useRef)(null),w=(0,o.useRef)(null),S=(0,o.useRef)(null),C=(0,o.useRef)(null),A=(0,o.useState)(null),E=A[0],P=A[1],U=(0,o.useState)(null),T=U[0],y=U[1],Z=(0,o.useRef)(null),D=(0,o.useRef)(null);(0,o.useEffect)((function(){(v||E)&&(v.current.value,Z.current.style.color="black")}),[v,E]),(0,o.useEffect)((function(){(j||T)&&(j.current.value!=T?D.current.style.color="red":D.current.style.color="black")}),[j,T]);var I=(0,o.useState)(null),L=(I[0],I[1],(0,o.useState)(!0));L[0],L[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"".concat(d().titulo," p-5"),children:(0,r.jsx)("strong",{children:(0,r.jsx)("h1",{children:"Agregar personal administrativo Grupo Scout Centinelas 113"})})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:d().tarjeta_fondo,children:(0,r.jsxs)("div",{className:"container-fluid ".concat(d().desc),children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:d().photo,children:(0,r.jsx)("img",{className:d().image,src:"/img/profile-picture.png",ref:u})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:d().div_file,children:[(0,r.jsx)("p",{className:d().text,children:"*Seleccionar foto"}),(0,r.jsx)("input",{type:"file",id:"btn_upload",accept:"image/jpeg,image/png",className:d().btn_upload,ref:i,onChange:function(){if(i.current.files[0]){if(i.current.files[0].size>1e7)return alert("El archivo no debe superar los 10MB"),i.current.value="",void(i.current.files[0].name="");var e=i.current.files[0],n=new FileReader;n.onload=function(e){u.current.src=e.target.result},n.readAsDataURL(e),l((0,t.Z)((0,a.Z)({},s),{photo:e}))}}})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Nombre:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Apellido:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Correo electr\xf3nico:"})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:x,onChange:function(e){e.target.value=e.target.value.toUpperCase()}})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:f,onChange:function(e){e.target.value=e.target.value.toUpperCase()}})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:v,onChange:function(e){e.target.value=e.target.value.toUpperCase()}})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{ref:Z,children:"Confirmar correo:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Contrase\xf1a:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{ref:D,children:"Confirmar contrase\xf1a:"})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,onChange:function(e){return P(e.target.value)}})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:j,type:"password"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,onChange:function(e){return y(e.target.value)},type:"password"})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"C\xe9dula:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Tel\xe9fono:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Direcci\xf3n:"})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:p,type:"number"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:g,type:"number"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:b,onChange:function(e){e.target.value=e.target.value.toUpperCase()}})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Nivel adistramiento:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Cargo:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Rama:"})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsxs)("select",{className:d().input2,ref:N,children:[(0,r.jsx)("option",{value:"0",children:"PRE-INTRODUCTORIO"}),(0,r.jsx)("option",{value:"1",children:"INTRODUCTORIO"}),(0,r.jsx)("option",{value:"2",children:"BASICO"}),(0,r.jsx)("option",{value:"3",children:"TALLER DE HABILIDADES"}),(0,r.jsx)("option",{value:"4",children:"AVANZADO"}),(0,r.jsx)("option",{value:"5",children:"INSIGNIA DE MADERA"})]})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsxs)("select",{className:d().input2,ref:_,children:[(0,r.jsx)("option",{value:"SCOUT",children:"SCOUT"}),(0,r.jsx)("option",{value:"TESORERA",children:"TESORERA"}),(0,r.jsx)("option",{value:"JEFE DE RAMA",children:"JEFE DE RAMA"}),(0,r.jsx)("option",{value:"JEFE DE GRUPO",children:"JEFE DE GRUPO"})]})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsxs)("select",{className:d().input2,ref:O,children:[(0,r.jsx)("option",{value:"TEMPORAL",children:"TEMPORAL"}),(0,r.jsx)("option",{value:"CACHORROS",children:"CACHORROS"}),(0,r.jsx)("option",{value:"LOBATOS",children:"LOBATOS"}),(0,r.jsx)("option",{value:"WEBELOS",children:"WEBELOS"}),(0,r.jsx)("option",{value:"SCOUTS",children:"SCOUTS"}),(0,r.jsx)("option",{value:"ROVERS",children:"ROVERS"})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Tipo de sangre"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"RH:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"EPS:"})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsxs)("select",{className:d().input2,ref:R,children:[(0,r.jsx)("option",{value:"A",children:"A"}),(0,r.jsx)("option",{value:"O",children:"O"}),(0,r.jsx)("option",{value:"B",children:"B"}),(0,r.jsx)("option",{value:"AB",children:"AB"})]})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsxs)("select",{className:d().input2,ref:w,children:[(0,r.jsx)("option",{value:"POSITIVO",children:"POSITIVO"}),(0,r.jsx)("option",{value:"NEGATIVO",children:"NEGATIVO"})]})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:S,onChange:function(e){e.target.value=e.target.value.toUpperCase()}})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4"}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("label",{children:"Sitio de atenci\xf3n:"})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4"})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-xs-6 col-md-4"}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4",children:(0,r.jsx)("input",{className:d().input,ref:C,onChange:function(e){e.target.value=e.target.value.toUpperCase()}})}),(0,r.jsx)("div",{className:"col-xs-6 col-md-4"})]}),(0,r.jsxs)("div",{className:d().boton,children:[(0,r.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){var e={name:x.current.value,lastName:f.current.value,email:v.current.value,password:j.current.value,documentType:"CC",document:p.current.value,birthDate:new Date,homeAddress:b.current.value,attentionSite:C.current.value,personalDetails:{phone:g.current.value,level:N.current.value,charge:_.current.value,bloodType:R.current.value,rh:w.current.value,eps:S.current.value},branches:{nameBranch:O.current.value}};fetch("".concat("http://localhost:4000","/api/users/personal"),{mode:"cors",method:"POST",headers:{"Referrer-Policy":"origin-when-cross-origin","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("auth_token"),"Access-Control-Allow-Origin":"".concat("http://localhost:3000")},body:JSON.stringify(e)}).then((function(e){return e.json().then((function(s){return e.ok?Promise.resolve(s):Promise.reject(s)}))})).then((function(e){var n=e.data.id,r=new FormData;r.append("file",s.photo),r.append("id",n),m.fire({icon:"success",title:"Datos agregados!",text:"Los datos fueron agregados correctamente",confirmButtonColor:"#31B411",confirmButtonText:"Continuar"}).then((function(e){e&&(window.location.href="/dashboard/jefe-grupo/personal")})),fetch("".concat("http://localhost:4000","/api/upload"),{mode:"cors",method:"POST",body:r,headers:{"Referrer-Policy":"origin-when-cross-origin","Access-Control-Allow-Origin":"".concat("http://localhost:3000")}})}))},children:"Agregar registro"}),(0,r.jsxs)("button",{type:"button",className:"btn btn-danger",children:[" ",(0,r.jsx)("a",{className:"".concat(d().letra),href:"/dashboard/jefe-grupo/personal",children:"Cancelar registro"})]})]})]})})})]})}var h=n(9294),m=n(2461),x=(0,n(4181).Z)((function(){var e=(0,r.jsx)(u,{});return(0,r.jsx)(h.Z,{content:e})}),m.uU.GRUPO,!0)},7940:function(e){e.exports={sidebar:"Slidebar_sidebar__pw5I_",sidelink:"Slidebar_sidelink__I0n_O",active:"Slidebar_active__BkFah",closebtn:"Slidebar_closebtn__Q2ruM",openbtn:"Slidebar_openbtn__WaRF4",content:"Slidebar_content__s2yv4",sideicon:"Slidebar_sideicon__ypeH_",header:"Slidebar_header__JuoDb",image:"Slidebar_image__V0t9C",name:"Slidebar_name__qFgGz",branch:"Slidebar_branch__qdB8B"}},4835:function(e){e.exports={tarjeta_fondo:"AddPerson_tarjeta_fondo__ptfkl",desc:"AddPerson_desc__sfJ5N",input:"AddPerson_input__0oSEG",input2:"AddPerson_input2__HBdIF",boton:"AddPerson_boton__ZxDoU",letra:"AddPerson_letra__ZtJYB",titulo:"AddPerson_titulo__RXuGe",image:"AddPerson_image__kZj_B",text:"AddPerson_text__IKzp4",div_file:"AddPerson_div_file___14u0",btn_upload:"AddPerson_btn_upload__XyQ6N"}},9396:function(e,s,n){"use strict";function r(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),n.push.apply(n,r)}return n}(Object(s)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})),e}n.d(s,{Z:function(){return r}})}},function(e){e.O(0,[4711,9774,2888,179],(function(){return s=1019,e(e.s=s);var s}));var s=e.O();_N_E=s}]);