(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{6117:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return o(2893)}])},2461:function(e,n,o){"use strict";o.d(n,{EZ:function(){return r},Sv:function(){return a},uU:function(){return t}});var t,a=function(e,n){switch(n){case t.SCOUT:e.push("/dashboard/info","/dashboard",{shallow:!0});break;case t.RAMA:e.push("/dashboard/jefe-rama","/dashboard",{shallow:!0});break;case t.GRUPO:e.push("/dashboard/jefe-grupo/inscripciones","/dashboard",{shallow:!0});break;case t.TESORERO:e.push("/dashboard/tesorero","/dashboard",{shallow:!0});break;default:e.push("/dashboard/info","/dashboard",{shallow:!0})}};function r(){fetch("http://localhost:4000/api/payments/generateCSV/1",{method:"GET",headers:new Headers({"Referrer-Policy":"origin-when-cross-origin",Authorization:"Bearer "+localStorage.getItem("auth_token"),"Access-Control-Allow-Origin":"".concat("http://localhost:3000")})}).then((function(e){return e.blob()})).then((function(e){var n=window.URL.createObjectURL(e);Object.assign(document.createElement("a"),{target:"_blank",href:n,download:"Historial de pagos-".concat((new Date).toISOString().split("T")[0],".csv")}).click(),setTimeout((function(){window.URL.revokeObjectURL(n)}),100)}))}!function(e){e[e.SCOUT=0]="SCOUT",e[e.TESORERO=1]="TESORERO",e[e.RAMA=2]="RAMA",e[e.GRUPO=3]="GRUPO",e[e.ADMIN=4]="ADMIN"}(t||(t={}))},4181:function(e,n,o){"use strict";var t=o(7294),a=o(1163),r=o.n(a),s=o(9898);n.Z=function(e,n,o){return function(a){var c=(0,s.xJ)(),i=c.user,u=c.isLoading,l=c.error;return(0,t.useEffect)((function(){var e=window.location?window.location:null;u&&l?r().replace("/login?r=".concat(e.pathname+encodeURIComponent(e.search)),"/login",{shallow:!0}):u||i.status?n&&!u&&(o&&n!=i.roles.id-1||n>i.roles.id-1)&&r().push("/dashboard"):r().push("/logout")}),[u,l]),(0,t.createElement)(e,a,null)}}},2893:function(e,n,o){"use strict";o.r(n);var t=o(5893),a=o(1163),r=o(7294),s=o(9898),c=o(2461),i=o(4181);n.default=(0,i.Z)((function(){var e=(0,s.xJ)(),n=e.user,o=e.isLoading,i=(0,a.useRouter)();return(0,r.useEffect)((function(){o||(0,c.Sv)(i,c.uU[c.uU[n.roles.id-1]])}),[n]),(0,t.jsx)(t.Fragment,{})}))}},function(e){e.O(0,[9774,2888,179],(function(){return n=6117,e(e.s=n);var n}));var n=e.O();_N_E=n}]);