(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8484],{7884:function(e,a,r){"use strict";r.d(a,{Z:function(){return s}});var n=r(5893),t=r(1667),o=r(5853);function s(e){var a=e.content;return(0,n.jsxs)(t.Z,{content:a,children:[(0,n.jsx)(o.Z,{href:"/dashboard/info",name:"Informaci\xf3n personal",svg:"/img/dashboard/info.svg"}),(0,n.jsx)(o.Z,{href:"/dashboard/progress",name:"Mi progreso",svg:"/img/dashboard/progress.svg"}),(0,n.jsx)(o.Z,{href:"/dashboard/payments",name:"Mis pagos",svg:"/img/dashboard/payments.svg"}),(0,n.jsx)(o.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,n.jsx)(o.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}},9294:function(e,a,r){"use strict";r.d(a,{Z:function(){return h}});var n=r(5893),t=r(9898),o=r(1667),s=r(5853);function i(e){var a=e.content;return(0,n.jsxs)(o.Z,{content:a,branch:"Jefe de Rama",children:[(0,n.jsx)(s.Z,{href:"/dashboard/jefe-rama",name:"Mi rama",svg:"/img/dashboard/info.svg"}),(0,n.jsx)(s.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,n.jsx)(s.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}var c=r(7884);function d(e){var a=e.content;return(0,n.jsxs)(o.Z,{content:a,branch:"Jefe de Grupo",children:[(0,n.jsx)(s.Z,{href:"/dashboard/jefe-grupo/inscripciones",name:"Inscripciones",svg:"/img/dashboard/info.svg"}),(0,n.jsx)(s.Z,{href:"/dashboard/jefe-grupo/personal",name:"Gesti\xf3n personal",svg:"/img/dashboard/person.svg"}),(0,n.jsx)(s.Z,{href:"/dashboard/jefe-grupo/cartera",name:"Cartera Centinelas 113",svg:"/img/dashboard/wallet.svg"}),(0,n.jsx)(s.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,n.jsx)(s.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}var u=r(2461);function l(e){var a=e.content;return(0,n.jsxs)(o.Z,{content:a,branch:"Tesorero",children:[(0,n.jsx)(s.Z,{href:"/dashboard/tesorero",name:"Cartera Scouts",svg:"/img/dashboard/info.svg"}),(0,n.jsx)(s.Z,{href:"/dashboard/cambio",name:"Cambiar contrase\xf1a",svg:"/img/dashboard/change.svg"}),(0,n.jsx)(s.Z,{href:"/logout",name:"Salir",svg:"/img/dashboard/logout.svg"})]})}function h(e){var a=e.content,r=(0,t.xJ)(),o=r.user,s=r.isLoading;r.error;if(!s){u.uU[u.uU[o.roles.id-1]];switch(u.uU[u.uU[o.roles.id-1]]){case u.uU.SCOUT:return(0,n.jsx)(c.Z,{content:a});case u.uU.GRUPO:return(0,n.jsx)(d,{content:a});case u.uU.RAMA:return(0,n.jsx)(i,{content:a});case u.uU.TESORERO:return(0,n.jsx)(l,{content:a})}}return(0,n.jsx)(c.Z,{content:a})}},1806:function(e,a,r){"use strict";r.d(a,{Z:function(){return c}});var n=r(5893),t=r(38),o=r.n(t),s=r(1587),i=r(7294);function c(e){var a=e.idPago,r=function(e){fetch("".concat("http://localhost:4000","/api/users/payment/").concat(e),{mode:"cors",method:"GET",headers:{"Referrer-Policy":"origin-when-cross-origin",Authorization:"Bearer "+localStorage.getItem("auth_token"),"Content-Type":"application/json","Access-Control-Allow-Origin":"".concat("http://localhost:3000")}}).then((function(e){return e.json().then((function(a){return e.ok?Promise.resolve(a):Promise.reject(a)}))})).then((function(e){if(e.data){var a=e.data.payments.map((function(e){var a=e.paymentConcepts.map((function(e){return e.name}));return{receiptNumber:e.receiptNumber,concept:a.join(", "),amount:e.amount,observation:e.observation,date:e.date.replace("T"," ").split(".")[0]}}));t.rows=a,f(t)}u(!1)}))},t={columns:[{label:"N\xfamero de recibo",field:"receiptNumber",sort:"asc",width:150},{label:"Concepto",field:"concept",sort:"asc",width:270},{label:"Valor",field:"amount",sort:"asc",width:200},{label:"Observacion",field:"observation",sort:"asc",width:150},{label:"Fecha",field:"date",sort:"asc",width:100}],rows:[]},c=(0,i.useState)(!0),d=c[0],u=c[1],l=(0,i.useState)(t),h=l[0],f=l[1];return(0,i.useEffect)((function(){a?r(a):fetch("".concat("http://localhost:4000","/api/auth/profile"),{mode:"cors",method:"GET",headers:{"Referrer-Policy":"origin-when-cross-origin",Authorization:"Bearer "+localStorage.getItem("auth_token"),"Content-Type":"application/json","Access-Control-Allow-Origin":"".concat("http://localhost:3000")}}).then((function(e){return e.json().then((function(a){return e.ok?Promise.resolve(a):Promise.reject(a)}))})).then((function(e){r(e.user.id)}))}),[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)("h1",{className:"".concat(o().text_title," p-5"),children:"\xa1Estos son tus pagos como Scout!"})}),d?(0,n.jsx)("div",{className:"row col-12 mt-5 justify-content-center",children:"Cargando Informaci\xf3n..."}):(0,n.jsx)("div",{className:"".concat(o().text_data," row justify-content-center py-3"),children:(0,n.jsx)("div",{className:"".concat(o().container," py-5 w-100"),id:"example",children:(0,n.jsx)(s.g0K,{striped:!0,bordered:!0,hover:!0,small:!0,responsiveSm:!0,responsiveMd:!0,responsiveLg:!0,responsiveXl:!0,fixed:!0,noBottomColumns:!0,data:h,entriesLabel:"Mostrar entradas",infoLabel:["Mostrando","hasta","de","registros"],paginationLabel:["Anterior","Siguiente"],searchLabel:"Buscar",noRecordsFoundLabel:"No se han encontrado registros"})})})]})}},5853:function(e,a,r){"use strict";r.d(a,{Z:function(){return l}});var n=r(5893),t=r(1664),o=r.n(t),s=r(1163),i=r(7294),c=r(7940),d=r.n(c),u=r(1667);function l(e){var a=e.href,r=e.name,t=e.svg,c=(0,s.useRouter)(),l=(0,i.useContext)(u.l),h=c.pathname.startsWith(a)||c.asPath.startsWith(a);return(0,n.jsx)(o(),{href:a,children:(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-start ".concat(d().sidelink," ").concat(h?d().active:""),children:[t?(0,n.jsx)("img",{className:d().sideicon,src:t}):null,l?null:(0,n.jsx)("a",{children:r})]})})}},1667:function(e,a,r){"use strict";r.d(a,{l:function(){return l},Z:function(){return h}});var n=r(5893),t=r(1163),o=r(7294);var s=r(7940),i=r.n(s),c=r(9898);function d(e){var a,r=e.branchName,s=((0,t.useRouter)(),(0,c.xJ)()),d=s.user,u=s.isLoading,h=(s.error,(0,c.Sf)()),f=h.image,m=h.isLoading;if(r)a=(0,n.jsx)("p",{className:i().branch,children:r});else{var g=(0,c.ph)(),b=g.branch,_=g.isLoading;a=(0,n.jsx)("p",{className:i().branch,children:_?"Cargando...":b.nameBranch})}(0,o.useContext)(l);return(0,n.jsxs)("div",{className:i().header,children:[(0,n.jsx)("img",{className:i().image,src:m?"/img/profile-picture.png":URL.createObjectURL(f)}),(0,n.jsx)("p",{className:i().name,children:u?"Cargando...":(d.name+" "+d.lastName).toLowerCase()}),a]})}function u(e){var a=e.children;return(0,n.jsx)("div",{children:a})}var l=(0,o.createContext)({});function h(e){var a=e.content,r=e.branch,s=e.children,c=((0,t.useRouter)(),(0,o.useRef)(null)),h=(0,o.useRef)(null),f=function(){var e=function(){return{width:a?window.innerWidth:null,height:a?window.innerHeight:null}},a=!0,r=(0,o.useState)(e()),n=r[0],t=r[1];return(0,o.useEffect)((function(){var r=function(){t(e())};if(a)return window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[a]),n}(),m=(f.height,f.width),g=(0,o.useState)(!1),b=g[0],_=g[1];return(0,o.useEffect)((function(){_(m<=720)}),[m]),(0,o.useEffect)((function(){c.current.style.width="100%"}),[]),(0,n.jsx)(l.Provider,{value:b,children:(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsxs)("div",{className:"".concat(i().sidebar," "),ref:c,children:[(0,n.jsx)(d,{branchName:r}),(0,n.jsx)(u,{children:s})]}),(0,n.jsx)("div",{className:"".concat(i().content," flex-fill"),ref:h,children:a})]})})}},2461:function(e,a,r){"use strict";r.d(a,{EZ:function(){return o},Sv:function(){return t},uU:function(){return n}});var n,t=function(e,a){switch(a){case n.SCOUT:e.push("/dashboard/info","/dashboard",{shallow:!0});break;case n.RAMA:e.push("/dashboard/jefe-rama","/dashboard",{shallow:!0});break;case n.GRUPO:e.push("/dashboard/jefe-grupo/inscripciones","/dashboard",{shallow:!0});break;case n.TESORERO:e.push("/dashboard/tesorero","/dashboard",{shallow:!0});break;default:e.push("/dashboard/info","/dashboard",{shallow:!0})}};function o(){fetch("http://localhost:4000/api/payments/generateCSV/1",{method:"GET",headers:new Headers({"Referrer-Policy":"origin-when-cross-origin",Authorization:"Bearer "+localStorage.getItem("auth_token"),"Access-Control-Allow-Origin":"".concat("http://localhost:3000")})}).then((function(e){return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);Object.assign(document.createElement("a"),{target:"_blank",href:a,download:"Historial de pagos-".concat((new Date).toISOString().split("T")[0],".csv")}).click(),setTimeout((function(){window.URL.revokeObjectURL(a)}),100)}))}!function(e){e[e.SCOUT=0]="SCOUT",e[e.TESORERO=1]="TESORERO",e[e.RAMA=2]="RAMA",e[e.GRUPO=3]="GRUPO",e[e.ADMIN=4]="ADMIN"}(n||(n={}))},4181:function(e,a,r){"use strict";var n=r(7294),t=r(1163),o=r.n(t),s=r(9898);a.Z=function(e,a,r){return function(t){var i=(0,s.xJ)(),c=i.user,d=i.isLoading,u=i.error;return(0,n.useEffect)((function(){var e=window.location?window.location:null;d&&u?o().replace("/login?r=".concat(e.pathname+encodeURIComponent(e.search)),"/login",{shallow:!0}):d||c.status?a&&!d&&(r&&a!=c.roles.id-1||a>c.roles.id-1)&&o().push("/dashboard"):o().push("/logout")}),[d,u]),(0,n.createElement)(e,t,null)}}},7940:function(e){e.exports={sidebar:"Slidebar_sidebar__pw5I_",sidelink:"Slidebar_sidelink__I0n_O",active:"Slidebar_active__BkFah",closebtn:"Slidebar_closebtn__Q2ruM",openbtn:"Slidebar_openbtn__WaRF4",content:"Slidebar_content__s2yv4",sideicon:"Slidebar_sideicon__ypeH_",header:"Slidebar_header__JuoDb",image:"Slidebar_image__V0t9C",name:"Slidebar_name__qFgGz",branch:"Slidebar_branch__qdB8B"}},38:function(e){e.exports={container:"DataQuery_container__d8ETl",text_data:"DataQuery_text_data__iRBPB",text_title:"DataQuery_text_title___AFQM",editarB:"DataQuery_editarB__tWsOl",contenedor:"DataQuery_contenedor__u_wsl",editarI:"DataQuery_editarI__U3oK2",mostrar:"DataQuery_mostrar__Z9AjZ",mostrar_correo:"DataQuery_mostrar_correo__kh71O",ocultarB:"DataQuery_ocultarB__yG1l5",mostrarB:"DataQuery_mostrarB__ct1__",contenedor_btns:"DataQuery_contenedor_btns__CUqWE",label2:"DataQuery_label2__971iP",inputObser:"DataQuery_inputObser__KddmU",addbutton:"DataQuery_addbutton__7_U1c",btn_add:"DataQuery_btn_add__2GWLP",link_plan:"DataQuery_link_plan__VqqD2",icon:"DataQuery_icon__t3ne2",icon_trash:"DataQuery_icon_trash__hdAoS"}}}]);